(this["webpackJsonpds-task"]=this["webpackJsonpds-task"]||[]).push([[0],{32:function(e,t,c){},39:function(e,t,c){},62:function(e,t,c){},64:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(16),r=c.n(s),a=(c(39),c(11)),i=c(34),o=c(9),j=c(12),b=c.n(j),u=c(15),d=c(10),m=c(18),v=function(){return m.get("https://api.themoviedb.org/3/movie/popular?api_key=62dd341cbea2b6a589505b581e218f40&page=1")},l=function(e){return m.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=62dd341cbea2b6a589505b581e218f40"))},h=function(e){return m.get("https://api.themoviedb.org/3/search/movie?&api_key=62dd341cbea2b6a589505b581e218f40&query=".concat(e))},O="SET_MOVIES",p={movies:[]},x=function(e){return{type:O,movies:e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)(Object(d.a)({},e),{},{movies:t.movies});default:return e}},_=(c(62),c(1)),g=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(o.b)();return Object(_.jsxs)("form",{className:"search",onSubmit:function(e){var t;e.preventDefault(),c&&(r((t=c,function(){var e=Object(u.a)(b.a.mark((function e(c){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:n=e.sent,c(x(n.data.results));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),s(""))},children:[Object(_.jsx)("input",{className:"search__input",type:"text",name:"search",placeholder:"Search movie...",value:c,onChange:function(e){return s(e.target.value)}}),Object(_.jsx)("button",{className:"search__btn",type:"submit",children:"Search"})]})},N=(c(64),function(){return Object(_.jsxs)("header",{className:"header",children:[Object(_.jsx)(a.b,{to:"/",className:"header__title",children:"Movies"}),Object(_.jsx)(g,{})]})}),w=(c(67),function(e){var t=e.id,c=e.title,n=e.poster_path,s=e.overview,r=e.vote_average;return Object(_.jsxs)(a.b,{to:"/movie-page/".concat(t),className:"movie__item",children:[Object(_.jsx)("img",{className:"movie__item-poster",src:"https://image.tmdb.org/t/p/w1280"+n,alt:"poster"}),Object(_.jsx)("div",{className:"movie__item-title",children:c}),Object(_.jsxs)("div",{className:"movie__item-overview",children:[Object(_.jsx)("h3",{children:"Overview:"}),Object(_.jsx)("p",{children:s})]}),Object(_.jsx)("span",{className:"movie__item-rate",children:r})]})}),y=(c(68),function(){var e=Object(o.c)((function(e){return e.movies.movies})),t=Object(o.b)();return Object(n.useEffect)((function(){t(function(){var e=Object(u.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:c=e.sent,t(x(c.data.results));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(_.jsx)("div",{className:"movies",children:e.map((function(e){return Object(_.jsx)(w,Object(d.a)({},e),e.id)}))})}),k=c(3),I="SET_MOVIE",E={movieItem:{}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(d.a)(Object(d.a)({},e),{},{movieItem:t.movieItem});default:return e}},M=(c(32),function(e){var t=e.title,c=e.poster_path,n=e.overview,s=e.vote_average,r=e.vote_count,a=e.release_date,i=e.runtime;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"poster",children:Object(_.jsx)("img",{className:"movie__poster",src:"https://image.tmdb.org/t/p/w1280"+c,alt:"poster"})}),Object(_.jsxs)("div",{className:"movie__description",children:[Object(_.jsx)("h3",{className:"movie__title",children:t}),Object(_.jsxs)("div",{className:"runtime",children:[Object(_.jsx)("b",{children:"Runtime:"})," ",i,"min."]}),Object(_.jsxs)("div",{className:"genre",children:[Object(_.jsx)("b",{children:"Release:"})," ",Object(_.jsx)("span",{children:a})]}),Object(_.jsxs)("div",{className:"overview",children:[Object(_.jsx)("b",{children:"Overview:"}),Object(_.jsxs)("span",{children:[" ",n]})]}),Object(_.jsxs)("div",{className:"rating",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Rating:"})," ",Object(_.jsxs)("span",{children:[" ",s]})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Vote:"})," ",Object(_.jsx)("span",{children:r})]})]})]})]})}),R=Object(k.f)((function(e){var t=Object(o.c)((function(e){return e.item.movieItem})),c=Object(o.b)();return Object(n.useEffect)((function(){var t=e.match.params.itemId;c(function(e){return function(){var t=Object(u.a)(b.a.mark((function t(c){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:n=t.sent,c((s=n.data,{type:I,movieItem:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]),Object(_.jsxs)("div",{className:"movie__page",children:[Object(_.jsx)("div",{className:"back",children:Object(_.jsx)(a.b,{to:"/",children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u043d\u0430\u0437\u0430\u0434"})}),Object(_.jsx)("div",{className:"movie",children:Object(_.jsx)(M,Object(d.a)({},t))})]})})),V=(c(69),function(){return Object(_.jsxs)("div",{className:"app",children:[Object(_.jsx)(N,{}),Object(_.jsx)("div",{className:"content",children:Object(_.jsxs)(k.c,{children:[Object(_.jsx)(k.a,{exact:!0,path:"/",render:function(){return Object(_.jsx)(y,{})}}),Object(_.jsx)(k.a,{path:"/movie-page/:itemId?",render:function(){return Object(_.jsx)(R,{})}})]})})]})}),J=c(19),T=c(33),q=Object(J.b)({movies:f,item:S}),B=Object(J.c)(q,Object(J.a)(T.a));r.a.render(Object(_.jsx)(a.a,{basename:"/ds-task",children:Object(_.jsx)(o.a,{store:B,children:Object(_.jsx)(V,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.00affc04.chunk.js.map